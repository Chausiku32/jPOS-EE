<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class org.jpos.gl.ImportTest</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class org.jpos.gl.ImportTest</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/org.jpos.gl.html">org.jpos.gl</a> &gt; ImportTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">2</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">5.841s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">testImport</td>
<td>4.724s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testImport</td>
<td>1.117s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>
    drop table acct if exists

    drop table acctlock if exists

    drop table balance_cache if exists

    drop table checkpoint if exists

    drop table currency if exists

    drop table glperm if exists

    drop table gluser if exists

    drop table journal if exists

    drop table layer if exists

    drop table ruleinfo if exists

    drop table transacc if exists

    drop table transentry if exists

    drop table transgroup if exists

    drop table transgroup_transactions if exists

    create table acct (
        id bigint generated by default as identity,
        subclass varchar(1) not null,
        root bigint,
        code varchar(255) not null,
        description varchar(255),
        created date,
        expiration date,
        type smallint,
        currency char(3),
        parent bigint,
        primary key (id)
    )

    create table acctlock (
        journal bigint not null,
        account bigint not null,
        primary key (journal, account)
    )

    create table balance_cache (
        journal bigint not null,
        account bigint not null,
        layers varchar(32) not null,
        ref bigint,
        balance numeric(14,2) not null,
        primary key (journal, account, layers)
    )

    create table checkpoint (
        date timestamp not null,
        layers varchar(32) not null,
        journal bigint not null,
        account bigint not null,
        balance numeric(14,2) not null,
        primary key (date, layers, journal, account)
    )

    create table currency (
        id varchar(3) not null,
        name varchar(255),
        symbol varchar(16) not null,
        primary key (id)
    )

    create table glperm (
        id bigint generated by default as identity,
        name varchar(64) not null,
        gluser bigint,
        journal bigint,
        primary key (id)
    )

    create table gluser (
        id bigint generated by default as identity,
        nick varchar(32) not null,
        name varchar(128) not null,
        primary key (id)
    )

    create table journal (
        id bigint generated by default as identity,
        name varchar(32) not null,
        start date,
        end_ date,
        closed boolean,
        lockDate date,
        chart bigint not null,
        primary key (id)
    )

    create table layer (
        id smallint not null,
        journal bigint not null,
        name varchar(80),
        primary key (id, journal)
    )

    create table ruleinfo (
        id bigint generated by default as identity,
        description varchar(255),
        clazz varchar(255),
        layers varchar(255),
        param varchar(255),
        journal bigint,
        account bigint,
        primary key (id)
    )

    create table transacc (
        id bigint generated by default as identity,
        detail varchar(255),
        tags varchar(255),
        timestamp timestamp not null,
        postDate timestamp,
        journal bigint not null,
        primary key (id)
    )

    create table transentry (
        id bigint generated by default as identity,
        subclass varchar(1) not null,
        detail varchar(255),
        tags varchar(255),
        credit char(255),
        layer int not null,
        account bigint not null,
        transaction bigint,
        amount numeric(14,2) not null,
        posn integer,
        primary key (id)
    )

    create table transgroup (
        id bigint generated by default as identity,
        name varchar(32),
        primary key (id)
    )

    create table transgroup_transactions (
        transactiongroup bigint not null,
        transaction bigint not null,
        primary key (transactiongroup, transaction)
    )

    alter table acct 
        add constraint UK_dwmqc7r7cb60skgf2n3fn2sn5 unique (root, code)

    create index acctCode on acct (code)

    create index perm_name on glperm (name)

    alter table gluser 
        add constraint UK_rwexaa2l5mvwhkgbgn81m92ng unique (nick)

    alter table journal 
        add constraint UK_i6hym19m5wl8ihwbal4xvuaqf unique (name)

    create index timestamp on transacc (timestamp)

    create index postDate on transacc (postDate)

    alter table transgroup 
        add constraint UK_9mvyt6dt792vwcmb9ua3gwb09 unique (name)

    create index transgroupname on transgroup (name)

    alter table acct 
        add constraint FKAccountChart 
        foreign key (root) 
        references acct

    alter table acct 
        add constraint FKAccountParent 
        foreign key (parent) 
        references acct

    alter table acctlock 
        add constraint FKAccountLockJournal 
        foreign key (journal) 
        references journal

    alter table acctlock 
        add constraint FKAccountLockAccount 
        foreign key (account) 
        references acct

    alter table balance_cache 
        add constraint FKBalanceCacheJournal 
        foreign key (journal) 
        references journal

    alter table balance_cache 
        add constraint FKBalanceCacheAccount 
        foreign key (account) 
        references acct

    alter table checkpoint 
        add constraint FKCheckpointJournal 
        foreign key (journal) 
        references journal

    alter table checkpoint 
        add constraint FKCheckpointAccount  
        foreign key (account) 
        references acct

    alter table glperm 
        add constraint FKPermissionUser 
        foreign key (gluser) 
        references gluser

    alter table glperm 
        add constraint FKJournalPermissions 
        foreign key (journal) 
        references journal

    alter table journal 
        add constraint FKJournalChart 
        foreign key (chart) 
        references acct

    alter table layer 
        add constraint FKJournalLayers 
        foreign key (journal) 
        references journal

    alter table ruleinfo 
        add constraint FKRuleInfoJournal 
        foreign key (journal) 
        references journal

    alter table ruleinfo 
        add constraint FKRuleInfoAccount 
        foreign key (account) 
        references acct

    alter table transacc 
        add constraint FKTransactionJournal 
        foreign key (journal) 
        references journal

    alter table transentry 
        add constraint FKGLEntryAccount 
        foreign key (account) 
        references acct

    alter table transentry 
        add constraint FKGLEntryTransaction 
        foreign key (transaction) 
        references transacc

    alter table transgroup_transactions 
        add constraint FKTransactionGroupTransaction 
        foreign key (transaction) 
        references transacc

    alter table transgroup_transactions 
        add constraint FKTransactionTransactionGroup 
        foreign key (transactiongroup) 
        references transgroup

    drop table acct if exists

    drop table acctlock if exists

    drop table balance_cache if exists

    drop table checkpoint if exists

    drop table currency if exists

    drop table glperm if exists

    drop table gluser if exists

    drop table journal if exists

    drop table layer if exists

    drop table ruleinfo if exists

    drop table transacc if exists

    drop table transentry if exists

    drop table transgroup if exists

    drop table transgroup_transactions if exists

    create table acct (
        id bigint generated by default as identity,
        subclass varchar(1) not null,
        root bigint,
        code varchar(255) not null,
        description varchar(255),
        created date,
        expiration date,
        type smallint,
        currency char(3),
        parent bigint,
        primary key (id)
    )

    create table acctlock (
        journal bigint not null,
        account bigint not null,
        primary key (journal, account)
    )

    create table balance_cache (
        journal bigint not null,
        account bigint not null,
        layers varchar(32) not null,
        ref bigint,
        balance numeric(14,2) not null,
        primary key (journal, account, layers)
    )

    create table checkpoint (
        date timestamp not null,
        layers varchar(32) not null,
        journal bigint not null,
        account bigint not null,
        balance numeric(14,2) not null,
        primary key (date, layers, journal, account)
    )

    create table currency (
        id varchar(3) not null,
        name varchar(255),
        symbol varchar(16) not null,
        primary key (id)
    )

    create table glperm (
        id bigint generated by default as identity,
        name varchar(64) not null,
        gluser bigint,
        journal bigint,
        primary key (id)
    )

    create table gluser (
        id bigint generated by default as identity,
        nick varchar(32) not null,
        name varchar(128) not null,
        primary key (id)
    )

    create table journal (
        id bigint generated by default as identity,
        name varchar(32) not null,
        start date,
        end_ date,
        closed boolean,
        lockDate date,
        chart bigint not null,
        primary key (id)
    )

    create table layer (
        id smallint not null,
        journal bigint not null,
        name varchar(80),
        primary key (id, journal)
    )

    create table ruleinfo (
        id bigint generated by default as identity,
        description varchar(255),
        clazz varchar(255),
        layers varchar(255),
        param varchar(255),
        journal bigint,
        account bigint,
        primary key (id)
    )

    create table transacc (
        id bigint generated by default as identity,
        detail varchar(255),
        tags varchar(255),
        timestamp timestamp not null,
        postDate timestamp,
        journal bigint not null,
        primary key (id)
    )

    create table transentry (
        id bigint generated by default as identity,
        subclass varchar(1) not null,
        detail varchar(255),
        tags varchar(255),
        credit char(255),
        layer int not null,
        account bigint not null,
        transaction bigint,
        amount numeric(14,2) not null,
        posn integer,
        primary key (id)
    )

    create table transgroup (
        id bigint generated by default as identity,
        name varchar(32),
        primary key (id)
    )

    create table transgroup_transactions (
        transactiongroup bigint not null,
        transaction bigint not null,
        primary key (transactiongroup, transaction)
    )

    alter table acct 
        add constraint UK_dwmqc7r7cb60skgf2n3fn2sn5 unique (root, code)

    create index acctCode on acct (code)

    create index perm_name on glperm (name)

    alter table gluser 
        add constraint UK_rwexaa2l5mvwhkgbgn81m92ng unique (nick)

    alter table journal 
        add constraint UK_i6hym19m5wl8ihwbal4xvuaqf unique (name)

    create index timestamp on transacc (timestamp)

    create index postDate on transacc (postDate)

    alter table transgroup 
        add constraint UK_9mvyt6dt792vwcmb9ua3gwb09 unique (name)

    create index transgroupname on transgroup (name)

    alter table acct 
        add constraint FKAccountChart 
        foreign key (root) 
        references acct

    alter table acct 
        add constraint FKAccountParent 
        foreign key (parent) 
        references acct

    alter table acctlock 
        add constraint FKAccountLockJournal 
        foreign key (journal) 
        references journal

    alter table acctlock 
        add constraint FKAccountLockAccount 
        foreign key (account) 
        references acct

    alter table balance_cache 
        add constraint FKBalanceCacheJournal 
        foreign key (journal) 
        references journal

    alter table balance_cache 
        add constraint FKBalanceCacheAccount 
        foreign key (account) 
        references acct

    alter table checkpoint 
        add constraint FKCheckpointJournal 
        foreign key (journal) 
        references journal

    alter table checkpoint 
        add constraint FKCheckpointAccount  
        foreign key (account) 
        references acct

    alter table glperm 
        add constraint FKPermissionUser 
        foreign key (gluser) 
        references gluser

    alter table glperm 
        add constraint FKJournalPermissions 
        foreign key (journal) 
        references journal

    alter table journal 
        add constraint FKJournalChart 
        foreign key (chart) 
        references acct

    alter table layer 
        add constraint FKJournalLayers 
        foreign key (journal) 
        references journal

    alter table ruleinfo 
        add constraint FKRuleInfoJournal 
        foreign key (journal) 
        references journal

    alter table ruleinfo 
        add constraint FKRuleInfoAccount 
        foreign key (account) 
        references acct

    alter table transacc 
        add constraint FKTransactionJournal 
        foreign key (journal) 
        references journal

    alter table transentry 
        add constraint FKGLEntryAccount 
        foreign key (account) 
        references acct

    alter table transentry 
        add constraint FKGLEntryTransaction 
        foreign key (transaction) 
        references transacc

    alter table transgroup_transactions 
        add constraint FKTransactionGroupTransaction 
        foreign key (transaction) 
        references transacc

    alter table transgroup_transactions 
        add constraint FKTransactionTransactionGroup 
        foreign key (transactiongroup) 
        references transgroup
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 2.3</a> at Oct 19, 2015 8:29:21 PM</p>
</div>
</div>
</body>
</html>
